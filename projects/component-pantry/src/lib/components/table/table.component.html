<div class="table-container">
    <div class="table">
        <table class="table__content">
            <thead>
                <tr class="table__row table__row--header">
                    <ng-container *ngFor="let header of tableHeaders; let i = index">
                        <th
                            class="table__header"
                            scope="col"
                            *ngIf="header.sortable; else nonSortableHeader"
                            (click)="sortColumn(i)"
                        >
                            <div class="header-content">
                                {{ header.label }}
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke-width="5"
                                    stroke="currentColor"
                                    class="sort-icon"
                                    [class.rotate-up]="i === columnIndex && ascending"
                                    [class.rotate-down]="i === columnIndex && !ascending"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        d="m19.5 8.25-7.5 7.5-7.5-7.5"
                                    />
                                </svg>
                            </div>
                        </th>

                        <ng-template #nonSortableHeader>
                            <th class="table__header" scope="col">
                                {{ header.label }}
                            </th>
                        </ng-template>
                    </ng-container>
                </tr>
            </thead>
            <tbody>
                <tr class="table__row" *ngFor="let rowData of tableData">
                    <ng-container *ngFor="let item of rowData; let i = index">
                        <td class="table__cell" [attr.data-label]="tableHeaders[i].label">{{ item.value }}</td>
                    </ng-container>
                </tr>
            </tbody>
        </table>
    </div>
</div>
