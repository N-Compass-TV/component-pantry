<div class="table-container">
    <div class="table">
        <table class="table__content" [ngClass]="getClass()">
            <thead>
                <tr class="table__row table__row--header">
                    @for (header of tableData().columns; track header; let i = $index) {
                        @if (header.sortable) {
                            <th class="table__header" scope="col" (click)="sortColumn(i)">
                                <div class="header-content">
                                    <p>{{ header.label }}</p>
                                    <svg
                                        class="sort-icon"
                                        [class.rotate-up]="i === columnIndex() && ascending()"
                                        [class.rotate-down]="i === columnIndex() && !ascending()"
                                        xmlns="http://www.w3.org/2000/svg"
                                        enable-background="new 0 0 24 24"
                                        viewBox="0 0 24 24"
                                        id="angle-down"
                                    >
                                        <path
                                            fill="#333"
                                            d="M16.9,9.2c-0.4-0.4-1-0.4-1.4,0L12,12.7L8.5,9.2c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l4.2,4.2c0.2,0.2,0.4,0.3,0.7,0.3c0.3,0,0.5-0.1,0.7-0.3l4.2-4.2C17.3,10.2,17.3,9.6,16.9,9.2z"
                                        ></path>
                                    </svg>
                                </div>
                            </th>
                        } @else {
                            <th class="table__header" scope="col">
                                {{ header.label }}
                            </th>
                        }
                    }
                </tr>
            </thead>
            <tbody>
                @for (rowData of sortedRows(); track rowData) {
                    <tr class="table__row">
                        @for (item of rowData; track item; let i = $index) {
                            <td class="table__cell" [attr.data-label]="tableData().columns[i].label">
                                {{ item.value }}
                            </td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
