<section class="stepper">
    @if (orientation() === "horizontal") {
        <ul class="stepper--wrapper">
            @for (step of steps(); track step) {
                @if (!step.completed && steps().indexOf(step) < internalCurrentStep()) {
                    <li
                        class="stepper--incomplete--item"
                        [ngClass]="{
                            'current-item': steps().indexOf(step) === internalCurrentStep(),
                            completed: steps().indexOf(step) < internalCurrentStep()
                        }"
                    >
                        @if (steps().indexOf(step) > 0) {
                            <div class="stepper--incomplete--line">
                                <div
                                    class="stepper--incomplete--progress"
                                    [ngClass]="{
                                        'current-count': steps().indexOf(step) === internalCurrentStep(),
                                        completed: steps().indexOf(step) < internalCurrentStep()
                                    }"
                                ></div>
                            </div>
                        }
                        <div
                            class="stepper--incomplete--count"
                            [ngClass]="{
                                'current-count': steps().indexOf(step) === internalCurrentStep(),
                                completed: steps().indexOf(step) < internalCurrentStep()
                            }"
                            (click)="goToStep(steps().indexOf(step))"
                        >
                            @if (steps().indexOf(step) >= internalCurrentStep()) {
                                <span>{{ steps().indexOf(step) + 1 }}</span>
                            }
                            @if (steps().indexOf(step) < internalCurrentStep()) {
                                <svg
                                    width="11"
                                    height="10"
                                    viewBox="0 0 11 10"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="invalid-mark"
                                >
                                    <g clip-path="url(#clip0_766_1079)">
                                        <path
                                            d="M5.56185 3.63637V5.34091M1.33322 6.87546C0.93958 7.55728 1.43185 8.40909 2.21867 8.40909H8.90503C9.6914 8.40909 10.1837 7.55728 9.79049 6.87546L6.44776 1.08091C6.05412 0.399095 5.06958 0.399095 4.67594 1.08091L1.33322 6.87546ZM5.56185 6.70455H5.56503V6.70819H5.56185V6.70455Z"
                                            stroke="#FF0000"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                        />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_766_1079">
                                            <rect
                                                width="10"
                                                height="9.09091"
                                                fill="white"
                                                transform="translate(0.56189)"
                                            />
                                        </clipPath>
                                    </defs>
                                </svg>
                            }
                        </div>
                        <div class="stepper--incomplete--title">
                            @if (showSteps()) {
                                <span class="stepper--incomplete--title--step"
                                    >Step {{ steps().indexOf(step) + 1 }}</span
                                >
                            }
                            <p class="stepper--incomplete--title--label">{{ step.label }}</p>
                            <span class="stepper--incomplete--title--step">Incomplete information</span>
                        </div>
                    </li>
                } @else {
                    <li
                        class="stepper--item"
                        [ngClass]="{
                            'current-item': steps().indexOf(step) === internalCurrentStep(),
                            completed: steps().indexOf(step) < internalCurrentStep()
                        }"
                    >
                        @if (steps().indexOf(step) > 0) {
                            <div class="stepper--line">
                                <div
                                    class="stepper--progress"
                                    [ngClass]="{
                                        'current-count': steps().indexOf(step) === internalCurrentStep(),
                                        completed: steps().indexOf(step) < internalCurrentStep()
                                    }"
                                ></div>
                            </div>
                        }
                        <div
                            class="stepper--count"
                            [ngClass]="{
                                'current-count': steps().indexOf(step) === internalCurrentStep(),
                                completed: steps().indexOf(step) < internalCurrentStep()
                            }"
                            (click)="goToStep(steps().indexOf(step))"
                        >
                            @if (steps().indexOf(step) >= internalCurrentStep()) {
                                <span>{{ steps().indexOf(step) + 1 }}</span>
                            }
                            @if (steps().indexOf(step) < internalCurrentStep()) {
                                <svg
                                    width="18"
                                    height="13"
                                    viewBox="0 0 18 13"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="check-mark"
                                >
                                    <path
                                        d="M17 1L6 12L1 7"
                                        stroke="black"
                                        stroke-width="3"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    />
                                </svg>
                            }
                        </div>
                        <div class="stepper--title">
                            @if (showSteps()) {
                                <span class="stepper--title--step">Step {{ steps().indexOf(step) + 1 }}</span>
                            }
                            <p class="stepper--title--label">{{ step.label }}</p>
                        </div>
                    </li>
                }
            }
        </ul>
    } @else {
        <ul class="stepper--wrapper--vertical">
            @for (step of steps(); track step) {
                @if (step.completed && steps().indexOf(step) < internalCurrentStep()) {
                    <li
                        class="stepper--item--vertical"
                        [ngClass]="{
                            'current-item': steps().indexOf(step) === internalCurrentStep(),
                            completed: steps().indexOf(step) < internalCurrentStep()
                        }"
                    >
                        <div class="stepper--title--vertical">
                            @if (showSteps()) {
                                <span class="stepper--title--vertical--label"
                                    >Step {{ steps().indexOf(step) + 1 }}</span
                                >
                            }
                            <p class="stepper--label--vertical" [ngClass]="{ 'no-step': !showSteps() }">
                                {{ step.label }}
                            </p>
                        </div>
                        <div class="stepper--line-count">
                            @if (steps().indexOf(step) > 0) {
                                <div class="stepper--line--vertical">
                                    <div
                                        class="stepper--progress--vertical"
                                        [ngClass]="{
                                            'current-count': steps().indexOf(step) === internalCurrentStep(),
                                            completed: steps().indexOf(step) < internalCurrentStep()
                                        }"
                                    ></div>
                                </div>
                            }
                            <div
                                class="stepper--count--vertical"
                                [ngClass]="{
                                    'current-count': steps().indexOf(step) === internalCurrentStep(),
                                    completed: steps().indexOf(step) < internalCurrentStep()
                                }"
                                (click)="goToStep(steps().indexOf(step))"
                            >
                                @if (steps().indexOf(step) >= internalCurrentStep()) {
                                    <span>{{ steps().indexOf(step) + 1 }}</span>
                                }
                                @if (steps().indexOf(step) < internalCurrentStep()) {
                                    <svg
                                        width="18"
                                        height="13"
                                        viewBox="0 0 18 13"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="check-mark"
                                    >
                                        <path
                                            d="M17 1L6 12L1 7"
                                            stroke="black"
                                            stroke-width="3"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                        />
                                    </svg>
                                }
                            </div>
                        </div>
                    </li>
                } @else {
                    <li
                        class="stepper--incomplete--item--vertical"
                        [ngClass]="{
                            'current-item': steps().indexOf(step) === internalCurrentStep(),
                            completed: steps().indexOf(step) < internalCurrentStep()
                        }"
                    >
                        <div
                            class="stepper--incomplete--title--vertical"
                            [ngClass]="{ incomplete: !step.completed && steps().indexOf(step) < internalCurrentStep() }"
                        >
                            @if (showSteps()) {
                                <span
                                    class="stepper--incomplete--title--vertical--step"
                                    [ngClass]="{
                                        incomplete: !step.completed && steps().indexOf(step) < internalCurrentStep()
                                    }"
                                >
                                    Step {{ steps().indexOf(step) + 1 }}
                                </span>
                            }
                            <p
                                class="stepper--incomplete--title--vertical--label"
                                [ngClass]="{
                                    'no-step': !showSteps(),
                                    incomplete: !step.completed && steps().indexOf(step) < internalCurrentStep()
                                }"
                            >
                                {{ step.label }}
                            </p>
                            @if (!step.completed && steps().indexOf(step) < internalCurrentStep()) {
                                <span class="stepper--incomplete--title--vertical--info">Incomplete information</span>
                            }
                        </div>
                        <div class="stepper--incomplete--line-count">
                            @if (steps().indexOf(step) > 0) {
                                <div class="stepper--incomplete--line--vertical">
                                    <div
                                        class="stepper--incomplete--progress--vertical"
                                        [ngClass]="{
                                            'current-count': steps().indexOf(step) === internalCurrentStep(),
                                            completed: steps().indexOf(step) < internalCurrentStep()
                                        }"
                                    ></div>
                                </div>
                            }
                            <div
                                class="stepper--incomplete--count--vertical"
                                [ngClass]="{
                                    'current-count': steps().indexOf(step) === internalCurrentStep(),
                                    completed: steps().indexOf(step) < internalCurrentStep()
                                }"
                                (click)="goToStep(steps().indexOf(step))"
                            >
                                @if (steps().indexOf(step) >= internalCurrentStep()) {
                                    <span>{{ steps().indexOf(step) + 1 }}</span>
                                }
                                @if (steps().indexOf(step) < internalCurrentStep()) {
                                    <svg
                                        width="11"
                                        height="10"
                                        viewBox="0 0 11 10"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="invalid-mark-vertical"
                                    >
                                        <g clip-path="url(#clip0_766_1079)">
                                            <path
                                                d="M5.56185 3.63637V5.34091M1.33322 6.87546C0.93958 7.55728 1.43185 8.40909 2.21867 8.40909H8.90503C9.6914 8.40909 10.1837 7.55728 9.79049 6.87546L6.44776 1.08091C6.05412 0.399095 5.06958 0.399095 4.67594 1.08091L1.33322 6.87546ZM5.56185 6.70455H5.56503V6.70819H5.56185V6.70455Z"
                                                stroke="white"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                            />
                                        </g>
                                        <defs>
                                            <clipPath id="clip0_766_1079">
                                                <rect
                                                    width="10"
                                                    height="9.09091"
                                                    fill="white"
                                                    transform="translate(0.56189)"
                                                />
                                            </clipPath>
                                        </defs>
                                    </svg>
                                }
                            </div>
                        </div>
                    </li>
                }
            }
        </ul>
    }
</section>
