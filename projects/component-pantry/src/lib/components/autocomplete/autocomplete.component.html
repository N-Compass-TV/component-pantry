<div class="autocomplete" [ngClass]="getClass()">
    <label *ngIf="hasLabel">{{ label }}</label>
    <div class="dropdown--wrapper">
        <div class="dropdown--input" *ngIf="showInput" [class.active]="isActive">
            <div class="icon" *ngIf="showLeftIcon" [innerHTML]="sanitizedLeftIconSvg"></div>
            <input
                [ngClass]="getClass()"
                [placeholder]="placeholder"
                #searchInput
                class="input"
                type="text"
                (focus)="isActive = true; toggleDropdown()"
            />
            <div class="icon" *ngIf="showRightIcon" [innerHTML]="sanitizedRightIconSvg"></div>
        </div>

        <div *ngIf="!showInput" class="dropdown--input option-selected">
            <div class="dropdown--input-field">
                <div class="icon" *ngIf="showLeftIcon" [innerHTML]="sanitizedLeftIconSvg"></div>
                <div class="dropdown--input-selected">
                    {{ selectedOption.name }}
                    <svg
                        (click)="clearSelection()"
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            stroke="#343f59"
                            d="M6 18L18 6M6 6L18 18"
                            stroke-width="1.5"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                    </svg>
                </div>
            </div>
            <div class="icon" *ngIf="showRightIcon" [innerHTML]="sanitizedRightIconSvg"></div>
        </div>
        <div class="dropdown--list">
            <div #dropdownWrapper class="dropdown" [ngClass]="{ active: isActive, inactive: !isActive }">
                <div class="dropdown--content">
                    <ul class="dropdown--options">
                        <li *ngFor="let option of filteredData" (click)="optionSelect(option)">
                            {{ option.name }}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="output" *ngIf="selectedOption">
            <h2>Selected Option</h2>
            <h4>NAME : {{ selectedOption.name }}</h4>
            <p>ID : {{ selectedOption.id }}</p>
        </div>
    </div>
</div>
